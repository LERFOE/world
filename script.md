# 演示文稿讲稿 (Script)

## Slide 1: 标题页
各位老师同学大家好，我是[你的名字]。
今天我汇报的项目是一个基于 OpenGL 的体素世界渲染引擎 —— Mycraft。
这个项目参考了 Minecraft 的核心机制，从零开始构建了一个包含无限地形、动态光照和交互系统的虚拟世界。

---

## Slide 2: 项目概述
首先简要介绍一下项目背景。
本项目使用现代 C++ (C++17) 和 OpenGL 4.1 核心模式开发。
之所以选择体素（Voxel）题材，是因为它涵盖了计算机图形学的众多核心概念，同时又具有很高的扩展性。

**主要特性包括：**
1.  **无限地形生成**：利用噪声算法生成连绵起伏的山脉和河流。
2.  **统一渲染架构**：设计了一套高效的渲染管线来处理海量的方块。
3.  **动态光照系统**：实现了环境光遮蔽（AO）和实时的昼夜循环。
4.  **高效管理**：通过区块（Chunk）技术管理大规模场景的内存和渲染。

---

## Slide 3: 架构设计
为了保证代码的可维护性，我采用了严格的模块化分层架构。

大家请看左边的图解：
最上层是 **输入层**，负责处理键盘鼠标事件。
中间是核心的 **逻辑层**，以 `Update` 循环为驱动，动态计算玩家位置，并以此决定哪些区块需要加载、哪些需要卸载。
下层是 **渲染层**，负责与 GPU 交互，提交顶点数据和 Uniform 变量。
最后还有一个 **UI 层**，用于实时显示帧率和调试参数。

---

## Slide 4: 渲染管线 (RenderVertex)
在渲染管线的设计上，我做了一个关键的取舍。
我定义了一个统一的 `RenderVertex` 结构体，大小约为 64 字节。

虽然这比最小化的顶点结构要大，但它包含了很多预计算的信息：
*   **Color**：用于给草地和树叶染上生物群系的颜色。
*   **Light**：这里存储了我们预先计算好的环境光遮蔽（AO）值，这样就不用在 Fragment Shader 里进行昂贵的实时计算了。
*   **Material ID**：这是一个 float 类型的 ID，让我们可以在同一个 Shader 里区分石头、水面、云层等不同材质。

---

## Slide 5: 地形生成 (噪声算法)
地形是体素世界的灵魂。我主要使用了 **分形布朗运动 (FBM)** 来叠加多层 Perlin 噪声。

我不仅仅是简单地生成高度图，而是结合了多个维度的噪声：
*   **温度噪声**决定了那里是沙漠还是雪原。
*   **湿度噪声**决定了植被的茂密程度。
*   **河流噪声**使用了绝对值函数，在噪声值为 0 的地方刻蚀出蜿蜒的河道。

右图展示的就是生成的复杂地形，可以看到山脉起伏的细节非常自然。

---

## Slide 6: 生物群系 (Biomes)
基于刚才提到的温度和湿度，我将世界划分为了 8 个不同的生物群系。

这张对比图展示了结果：
*   左边是干燥的 **沙漠**，生成了仙人掌和枯灌木。
*   中间是 **森林**，树木茂密，地面是草地。
*   右边则是 **雪原**，被积雪覆盖。
这些变化都是程序化自动生成的，无需人工摆放。

---

## Slide 7: 光照系统 - 环境光遮蔽 (AO)
接下来介绍本项目视觉效果提升最大的部分——光照。
首先是 **环境光遮蔽 (AO)**。

在体素世界中，角落和缝隙应该比平坦表面更暗。我通过检测每个顶点周围 3x3 的方块阻挡情况，计算出一个遮挡系数，并直接写入顶点颜色中。

请看对比图：
*   左图关闭了 AO，画面显得非常“平”、缺乏立体感，方块之间界限不清。
*   右图开启了 AO，可以看到墙角和台阶处有了自然的阴影过渡，体积感瞬间增强了。

---

## Slide 8: 光照系统 - 日夜循环与雾效
除了静态的 AO，我还实现了动态的日夜循环。

系统会根据游戏时间计算太阳的角度：
*   在 **黄昏** 时（如图所示），阳光会变成暖橙色，环境光也会相应变暗。
*   同时，我实现了 **指数雾 (Exponential Fog)**。不同于线性的截断，指数雾能让远处的地形柔和地隐入背景中，增加了大气的深邃感。

---

## Slide 9: 光照系统 - 实时阴影
为了增加真实感，我还加入了基于 Shadow Mapping 的实时阴影。

我使用了一个 2048x2048 的深度纹理来渲染阴影贴图。
为了解决传统阴影的锯齿问题，我使用了 **PCF (Percentage-Closer Filtering)** 技术，对周围 9 个像素进行采样平均。

对比图中可以看到，开启阴影后（右图），树木和地形投下的阴影边缘通过 PCF 处理变得相对柔和，不再是生硬的像素块。

---

## Slide 10: 纹理与细节
最后是纹理细节的处理。
为了提升性能，我使用了 **Texture Atlas（纹理图集）**技术，将几十张方块贴图合并成一张大图，这样渲染整个世界只需要绑定一次纹理。

此外，对于水面，我在 Shader 中利用时间参数对 UV 进行偏移，实现了动态波动的效果。

---

## Slide 11: 总结
总结一下，在本次项目中，我完整实践了现代图形学渲染管线的各个环节。
从底层的网格构建，到中间的着色器编程，再到上层的过程式生成算法，都得到了深入的锻炼。

当然项目还有很多改进空间，比如目前使用的顶点 AO 可以升级为屏幕空间的 **SSAO**，水面也可以加入 **SSR** 屏幕空间反射来获得更好的效果。

以上就是我的汇报，谢谢大家！
